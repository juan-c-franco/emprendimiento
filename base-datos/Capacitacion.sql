/* ---------------------------------------------------- */
/*  GENERATED BY ENTERPRISE ARCHITECT VERSION 12.1 		*/
/*  CREATED ON : 17-JUN.-2019 2:57:59 P. M. 				*/
/*  DBMS       : ORACLE 						*/
/* ---------------------------------------------------- */

/* DROP TABLES */

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "ALUMNOS" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "APROBACION" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "CAPACITACIONPROGRAMA" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "CATEGORIA" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "DOCENTES" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "ESTADOCAPACITACIONPROGRAMA" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "ESTADODOCENTE" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "ESTADOSEDES" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "MODULOCICLO" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "PROGRAMACION" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "SEDES" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

BEGIN
	EXECUTE IMMEDIATE 'DROP TABLE   "SEGUIMIENTOASISTENCIA" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
END;  
/

/* CREATE TABLES */

CREATE TABLE  "ALUMNOS"
(
	"IDALUMNO" NUMBER(38) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDPROGRAMACION" NUMBER(38) NOT NULL,
	"IDBENEFICIARIO" NUMBER(18) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL,
	"IDFUNCIONARIO" NUMBER(18) NOT NULL
)
;

CREATE TABLE  "APROBACION"
(
	"IDAPROBACION" NUMBER(38) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDALUMNO" NUMBER(38) NOT NULL,
	"PORCENTAJEAPROBACIONOBTENIDO" NUMBER(3) NOT NULL,
	"CALIFICACIONFINAL" NUMBER(1) NOT NULL,
        "CALIFICACIONFUNCIONARIO" NUMBER(1) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL,
	"IDFUNCIONARIO" NUMBER(18) NOT NULL
)
;

CREATE TABLE  "CAPACITACIONPROGRAMA"
(
	"IDCAPACITACIONPROGRAMA" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDESTADOCAPACITACIONPROGRAMA" NUMBER(18) NOT NULL,
	"IDCATEGORIA" NUMBER(18) NOT NULL,
	"IDOFERENTEINSTITUCION" NUMBER(18) NOT NULL,
	"NOMBRECAPACITACIONPROGRAMA" VARCHAR2(200) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL
)
;

CREATE TABLE  "CATEGORIA"
(
	"IDCATEGORIA" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"NOMBRECATEGORIA" VARCHAR2(100) NOT NULL,
	"DESCRIPCION" VARCHAR2(500) NOT NULL,
	"PORCENTAJEAPROBACION" NUMBER(3) NOT NULL,
	"CALIFICACIONAPROBACION" NUMBER(3) NOT NULL
)
;

CREATE TABLE  "DOCENTES"
(
	"IDDOCENTE" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDESTADODOCENTE" NUMBER(18) NOT NULL,
	"PRIMERNOMBRE" VARCHAR2(200) NOT NULL,
	"SEGUNDONOMBRE" VARCHAR2(200) NULL,
	"PRIMERAPELLIDO" VARCHAR2(200) NOT NULL,
	"SEGUNDOAPELLIDO" VARCHAR2(200) NULL,
	"EMAIL" VARCHAR2(200) NOT NULL,
	"TELEFONO" NUMBER(18) NOT NULL,
	"IDTIPODOCUMENTO" NUMBER(38) NOT NULL,
	"NUMERODOCUMENTO" VARCHAR2(20) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL
)
;

CREATE TABLE  "ESTADOCAPACITACIONPROGRAMA"
(
	"IDESTADOCAPACITACIONPROGRAMA" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"NOMBREESTADOCAPACITACIONPROG" VARCHAR2(100) NOT NULL,
	"DESCRIPCION" VARCHAR2(500) NOT NULL
)
;

CREATE TABLE  "ESTADODOCENTE"
(
	"IDESTADODOCENTE" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"NOMBREESTADODOCENTE" VARCHAR2(100) NOT NULL,
	"DESCRIPCION" VARCHAR2(500) NOT NULL
)
;

CREATE TABLE  "ESTADOSEDES"
(
	"IDESTADOSEDE" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"NOMBREESTADOSEDE" VARCHAR2(100) NOT NULL,
	"DESCRIPCION" VARCHAR2(500) NOT NULL
)
;

CREATE TABLE  "MODULOCICLO"
(
	"IDMODULOCICLO" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDCAPACITACIONPROGRAMA" NUMBER(18) NOT NULL,
	"NOMBREMODULOCICLO" VARCHAR2(200) NOT NULL,
	"INTENSIDADHORARIA" NUMBER(3) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL
)
;

CREATE TABLE  "PROGRAMACION"
(
	"IDPROGRAMACION" NUMBER(38) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDCAPACITACIONPROGRAMA" NUMBER(18) NOT NULL,
	"IDSEDE" NUMBER(18) NOT NULL,
	"IDDOCENTE" NUMBER(18) NOT NULL,
	"FECHAINICIOPROGRAMACION" TIMESTAMP(0) NOT NULL,
	"FECHAFINALROGRAMACION" TIMESTAMP(0) NOT NULL,
	"MAXASISTENTES" NUMBER(3) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL,
	"IDFUNCIONARIO" NUMBER(18) NOT NULL
)
;

CREATE TABLE  "SEDES"
(
	"IDSEDE" NUMBER(18) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDESTADOSEDE" NUMBER(18) NOT NULL,
	"IDOFERENTEINSTITUCION" NUMBER(18) NOT NULL,
	"NOMBRESEDE" VARCHAR2(300) NOT NULL,
	"DIRECCION" VARCHAR2(300) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL
)
;

CREATE TABLE  "SEGUIMIENTOASISTENCIA"
(
	"IDSEGUIMIENTOASISTENCIA" NUMBER(38) GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP ,
	"IDALUMNO" NUMBER(38) NOT NULL,
	"IDMODULOCICLO" NUMBER(18) NOT NULL,
	"CANTIDADHORASASISTENCIA" NUMBER(3) NOT NULL,
	"FECHAREGISTRO" DATE NOT NULL,
	"IDFUNCIONARIO" NUMBER(18) NOT NULL
)
;

/* CREATE PRIMARY KEYS, INDEXES, UNIQUES, CHECKS, TRIGGERS */

ALTER TABLE  "ALUMNOS" 
 ADD CONSTRAINT "PK_ALUMNOS"
	PRIMARY KEY ("IDALUMNO") 
 USING INDEX
;

CREATE INDEX "IXFK_ALUMNOS_BENEFICIARIO"   
 ON  "ALUMNOS" ("IDBENEFICIARIO") 
;

CREATE INDEX "IXFK_ALUMNOS_FUNCIONARIO"   
 ON  "ALUMNOS" ("IDFUNCIONARIO") 
;

CREATE INDEX "IXFK_ALUMNOS_PROGRAMACION"   
 ON  "ALUMNOS" ("IDPROGRAMACION") 
;

ALTER TABLE  "APROBACION" 
 ADD CONSTRAINT "PK_APROBACION"
	PRIMARY KEY ("IDAPROBACION") 
 USING INDEX
;

CREATE INDEX "IXFK_APROBACION_ALUMNOS"   
 ON  "APROBACION" ("IDALUMNO") 
;

CREATE INDEX "IXFK_APROBACION_FUNCIONARIO"   
 ON  "APROBACION" ("IDFUNCIONARIO") 
;

ALTER TABLE  "CAPACITACIONPROGRAMA" 
 ADD CONSTRAINT "PK_CAPACITACION_01"
	PRIMARY KEY ("IDCAPACITACIONPROGRAMA") 
 USING INDEX
;

CREATE INDEX "IXFK_CAPACITACION_ESTADOC01"   
 ON  "CAPACITACIONPROGRAMA" ("IDESTADOCAPACITACIONPROGRAMA") 
;

CREATE INDEX "IXFK_CAPACITACION_OFERENT01"   
 ON  "CAPACITACIONPROGRAMA" ("IDOFERENTEINSTITUCION") 
;

CREATE INDEX "IXFK_CAPACITACIONPR_CATEG01"   
 ON  "CAPACITACIONPROGRAMA" ("IDCATEGORIA") 
;

ALTER TABLE  "CATEGORIA" 
 ADD CONSTRAINT "PK_CATEGORIA"
	PRIMARY KEY ("IDCATEGORIA") 
 USING INDEX
;

ALTER TABLE  "DOCENTES" 
 ADD CONSTRAINT "PK_DOCENTES"
	PRIMARY KEY ("IDDOCENTE") 
 USING INDEX
;

CREATE INDEX "IXFK_DOCENTES_ESTADODOCENTE"   
 ON  "DOCENTES" ("IDESTADODOCENTE") 
;

CREATE INDEX "IXFK_DOCENTES_TIPODOCUMENTOID"   
 ON  "DOCENTES" ("IDTIPODOCUMENTO") 
;

ALTER TABLE  "ESTADOCAPACITACIONPROGRAMA" 
 ADD CONSTRAINT "PK_ESTADOCAPACI_01"
	PRIMARY KEY ("IDESTADOCAPACITACIONPROGRAMA") 
 USING INDEX
;

ALTER TABLE  "ESTADODOCENTE" 
 ADD CONSTRAINT "PK_ESTADODOCENT_01"
	PRIMARY KEY ("IDESTADODOCENTE") 
 USING INDEX
;

ALTER TABLE  "ESTADOSEDES" 
 ADD CONSTRAINT "PK_ESTADOSEDES"
	PRIMARY KEY ("IDESTADOSEDE") 
 USING INDEX
;

ALTER TABLE  "MODULOCICLO" 
 ADD CONSTRAINT "PK_MODULOCICLO"
	PRIMARY KEY ("IDMODULOCICLO") 
 USING INDEX
;

CREATE INDEX "IXFK_MODULOCICLO_CAPACITA01"   
 ON  "MODULOCICLO" ("IDCAPACITACIONPROGRAMA") 
;

ALTER TABLE  "PROGRAMACION" 
 ADD CONSTRAINT "PK_PROGRAMACION"
	PRIMARY KEY ("IDPROGRAMACION") 
 USING INDEX
;

CREATE INDEX "IXFK_PROGRAMACION_CAPACIT01"   
 ON  "PROGRAMACION" ("IDCAPACITACIONPROGRAMA") 
;

CREATE INDEX "IXFK_PROGRAMACION_DOCENTES"   
 ON  "PROGRAMACION" ("IDDOCENTE") 
;

CREATE INDEX "IXFK_PROGRAMACION_FUNCIONARIO"   
 ON  "PROGRAMACION" ("IDFUNCIONARIO") 
;

CREATE INDEX "IXFK_PROGRAMACION_SEDES"   
 ON  "PROGRAMACION" ("IDSEDE") 
;

ALTER TABLE  "SEDES" 
 ADD CONSTRAINT "PK_SEDES"
	PRIMARY KEY ("IDSEDE") 
 USING INDEX
;

CREATE INDEX "IXFK_SEDES_ESTADOSEDES"   
 ON  "SEDES" ("IDESTADOSEDE") 
;

CREATE INDEX "IXFK_SEDES_OFERENTEINSTITUCION"   
 ON  "SEDES" ("IDOFERENTEINSTITUCION") 
;

ALTER TABLE  "SEGUIMIENTOASISTENCIA" 
 ADD CONSTRAINT "PK_SEGUIMIENTOA_01"
	PRIMARY KEY ("IDSEGUIMIENTOASISTENCIA") 
 USING INDEX
;

CREATE INDEX "IXFK_SEGUIMIENTOA_FUNCION01"   
 ON  "SEGUIMIENTOASISTENCIA" ("IDFUNCIONARIO") 
;

CREATE INDEX "IXFK_SEGUIMIENTOA_MODULOC01"   
 ON  "SEGUIMIENTOASISTENCIA" ("IDMODULOCICLO") 
;

CREATE INDEX "IXFK_SEGUIMIENTOASIST_ALU01"   
 ON  "SEGUIMIENTOASISTENCIA" ("IDALUMNO") 
;

/* CREATE FOREIGN KEY CONSTRAINTS */

ALTER TABLE  "ALUMNOS" 
 ADD CONSTRAINT "FK_ALUMNOS_BENEFICIARIO"
	FOREIGN KEY ("IDBENEFICIARIO") REFERENCES  "BENEFICIARIO" ("IDBENEFICIARIO")
;

ALTER TABLE  "ALUMNOS" 
 ADD CONSTRAINT "FK_ALUMNOS_FUNCIONARIO"
	FOREIGN KEY ("IDFUNCIONARIO") REFERENCES  "FUNCIONARIO" ("IDFUNCIONARIO")
;

ALTER TABLE  "ALUMNOS" 
 ADD CONSTRAINT "FK_ALUMNOS_PROGRAMACION"
	FOREIGN KEY ("IDPROGRAMACION") REFERENCES  "PROGRAMACION" ("IDPROGRAMACION")
;

ALTER TABLE  "APROBACION" 
 ADD CONSTRAINT "FK_APROBACION_ALUMNOS"
	FOREIGN KEY ("IDALUMNO") REFERENCES  "ALUMNOS" ("IDALUMNO")
;

ALTER TABLE  "APROBACION" 
 ADD CONSTRAINT "FK_APROBACION_FUNCIONARIO"
	FOREIGN KEY ("IDFUNCIONARIO") REFERENCES  "FUNCIONARIO" ("IDFUNCIONARIO")
;

ALTER TABLE  "CAPACITACIONPROGRAMA" 
 ADD CONSTRAINT "FK_CAPACITACION_ESTADOCAPAC_01"
	FOREIGN KEY ("IDESTADOCAPACITACIONPROGRAMA") REFERENCES  "ESTADOCAPACITACIONPROGRAMA" ("IDESTADOCAPACITACIONPROGRAMA")
;

ALTER TABLE  "CAPACITACIONPROGRAMA" 
 ADD CONSTRAINT "FK_CAPACITACIONPR_CATEGORIA_01"
	FOREIGN KEY ("IDCATEGORIA") REFERENCES  "CATEGORIA" ("IDCATEGORIA")
;

ALTER TABLE  "DOCENTES" 
 ADD CONSTRAINT "FK_DOCENTES_ESTADODOCENTE"
	FOREIGN KEY ("IDESTADODOCENTE") REFERENCES  "ESTADODOCENTE" ("IDESTADODOCENTE")
;

ALTER TABLE  "DOCENTES" 
 ADD CONSTRAINT "FK_DOCENTES_TIPODOCUMENTOID"
	FOREIGN KEY ("IDTIPODOCUMENTO") REFERENCES  "TIPODOCUMENTOID" ("IDTIPODOCUMENTO")
;

ALTER TABLE  "MODULOCICLO" 
 ADD CONSTRAINT "FK_MODULOCICLO_CAPACITACION_01"
	FOREIGN KEY ("IDCAPACITACIONPROGRAMA") REFERENCES  "CAPACITACIONPROGRAMA" ("IDCAPACITACIONPROGRAMA")
;

ALTER TABLE  "PROGRAMACION" 
 ADD CONSTRAINT "FK_PROGRAMACION_CAPACITACIO_01"
	FOREIGN KEY ("IDCAPACITACIONPROGRAMA") REFERENCES  "CAPACITACIONPROGRAMA" ("IDCAPACITACIONPROGRAMA")
;

ALTER TABLE  "PROGRAMACION" 
 ADD CONSTRAINT "FK_PROGRAMACION_DOCENTES"
	FOREIGN KEY ("IDDOCENTE") REFERENCES  "DOCENTES" ("IDDOCENTE")
;

ALTER TABLE  "PROGRAMACION" 
 ADD CONSTRAINT "FK_PROGRAMACION_FUNCIONARIO"
	FOREIGN KEY ("IDFUNCIONARIO") REFERENCES  "FUNCIONARIO" ("IDFUNCIONARIO")
;

ALTER TABLE  "PROGRAMACION" 
 ADD CONSTRAINT "FK_PROGRAMACION_SEDES"
	FOREIGN KEY ("IDSEDE") REFERENCES  "SEDES" ("IDSEDE")
;

ALTER TABLE  "SEDES" 
 ADD CONSTRAINT "FK_SEDES_ESTADOSEDES"
	FOREIGN KEY ("IDESTADOSEDE") REFERENCES  "ESTADOSEDES" ("IDESTADOSEDE")
;

ALTER TABLE  "SEGUIMIENTOASISTENCIA" 
 ADD CONSTRAINT "FK_SEGUIMIENTOA_FUNCIONARIO_01"
	FOREIGN KEY ("IDFUNCIONARIO") REFERENCES  "FUNCIONARIO" ("IDFUNCIONARIO")
;

ALTER TABLE  "SEGUIMIENTOASISTENCIA" 
 ADD CONSTRAINT "FK_SEGUIMIENTOA_MODULOCICLO_01"
	FOREIGN KEY ("IDMODULOCICLO") REFERENCES  "MODULOCICLO" ("IDMODULOCICLO")
;

ALTER TABLE  "SEGUIMIENTOASISTENCIA" 
 ADD CONSTRAINT "FK_SEGUIMIENTOASIST_ALUMNOS_01"
	FOREIGN KEY ("IDALUMNO") REFERENCES  "ALUMNOS" ("IDALUMNO")
;

INSERT INTO ESTADOCAPACITACIONPROGRAMA (IDESTADOCAPACITACIONPROGRAMA, NOMBREESTADOCAPACITACIONPROG, DESCRIPCION) VALUES ('0', 'Inactiva', 'Capacitación Inactiva');
INSERT INTO ESTADOCAPACITACIONPROGRAMA (IDESTADOCAPACITACIONPROGRAMA, NOMBREESTADOCAPACITACIONPROG, DESCRIPCION) VALUES ('1', 'Activa', 'Capacitación Activa');

INSERT INTO ESTADODOCENTE (IDESTADODOCENTE, NOMBREESTADODOCENTE, DESCRIPCION) VALUES ('0', 'Inactivo', 'Docente Inactivo');
INSERT INTO ESTADODOCENTE (IDESTADODOCENTE, NOMBREESTADODOCENTE, DESCRIPCION) VALUES ('1', 'Activo', 'Docente Activo');




